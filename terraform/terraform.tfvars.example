# GCP Configuration
project_id = "viktor-integration"
region     = "us-central1"
zone       = "us-central1-a"

# Instance Configuration
instance_name = "virtual-desktop-server"
machine_type  = "e2-highmem-8"  # 8 vCPU, 64GB RAM
disk_size_gb  = 500

# User Configuration
username = "vik9541"
ssh_public_key = "ssh-rsa AAAAB3NzaC1yc2E... your-key-here"  # Replace with your SSH public key

# Monitoring
alert_email = "oncall@zashita.com"  # Replace with your email

# Storage
enable_persistent_disk    = true
persistent_disk_size_gb   = 1000  # 1TB for workspaces

# ============================================================
# SECURITY: IP Whitelist Configuration
# Trusted IPs from Terraform_VPS_VPN infrastructure
# ============================================================

# SSH Access - Only from VPN servers and admin IPs
ssh_allowed_ips = [
  # DigitalOcean VPN Servers
  "146.190.147.78/32",   # USA VPN
  "165.232.153.33/32",   # API Server / WireGuard
  "165.232.145.104/32",  # Staging / Web Server 2
  "134.199.137.209/32",  # Load Balancer
  "164.92.67.148/32",    # Prometheus
  "157.245.157.120/32",  # VPN endpoint
  "178.62.83.243/32",    # VPN endpoint
  "64.227.32.80/32",     # VPN endpoint
  "24.199.72.162/32",    # VPN endpoint
  "147.182.231.197/32",  # VPN endpoint
  # Yandex Cloud
  "158.160.150.162/32",  # Yandex Cloud VPN
  "84.252.133.240/32",   # Yandex Cloud
  # Hetzner
  "185.154.194.145/32",  # Hetzner VPN
  # Other infrastructure
  "107.170.38.83/32",    # Monitoring
  "128.199.193.67/32",   # Backup
  "163.47.8.152/32",     # Asia endpoint
  "209.38.160.193/32",   # Control plane
  "31.173.84.228/32",    # Russia
  "63.143.42.240/32",    # Additional
  "69.162.124.224/32",   # Additional
]

# code-server Access - VPN exit nodes only
code_server_allowed_ips = [
  "146.190.147.78/32",   # USA VPN
  "165.232.153.33/32",   # API Server / WireGuard
  "165.232.145.104/32",  # Staging
  "158.160.150.162/32",  # Yandex Cloud VPN
  "84.252.133.240/32",   # Yandex Cloud
  "185.154.194.145/32",  # Hetzner VPN
  "31.173.84.228/32",    # Russia
]

# HTTPS Access - Same as code-server
https_allowed_ips = [
  "146.190.147.78/32",   # USA VPN
  "165.232.153.33/32",   # API Server / WireGuard
  "165.232.145.104/32",  # Staging
  "158.160.150.162/32",  # Yandex Cloud VPN
  "84.252.133.240/32",   # Yandex Cloud
  "185.154.194.145/32",  # Hetzner VPN
  "31.173.84.228/32",    # Russia
]
